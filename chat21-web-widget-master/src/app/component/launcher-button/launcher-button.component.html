<!-- tabindex="000"-->

<button aflauncherbutton #aflauncherbutton id="c21-launcher-button" class="c21-button-clean scale-in-center" 
    *ngIf="g.isLogged == true && g.isOpen == false" 
    [ngClass]="{'c21-align-left' : g.align === 'left', 'c21-align-right' : g.align !== 'left'}"
    [ngStyle]="{ 'background-color': g.baloonImage? null: g.themeColor, 'bottom': g.marginY+'px!important', 'left':(g.align==='left')?g.marginX+'px!important':'', 'right':(g.align==='right')?g.marginX+'px!important':'', 'width': g.launcherWidth, 'height': g.launcherHeight, 'border-radius': g.baloonShape}"
    (click)="openCloseWidget()"
    tabindex="1000" 
    aria-label="    apri chat"
    >

    <div *ngIf="g.conversationsBadge>0 " class="c21-divBudge">{{g.conversationsBadge}}</div>

    <!-- OPEN ICON -->
    <div *ngIf="!g.isOpen" class="launcher-button rotate-center" [@enterBubbleAnimation]>
        <img *ngIf="g.baloonImage !== '' " [src]="g.baloonImage" [ngStyle]="{'width': '100%', 'height': '100%', 'margin': 'auto', 'border-radius': g.baloonShape}">
        <svg role="img" [ngStyle]="{'fill': g.themeForegroundColor, 'display': (g.baloonImage==='')?'':'none' }" xmlns="http://www.w3.org/2000/svg" width="100%"
            height="100%" viewBox="0 0 90 90">
            <path fill="none" d="M0 0h24v24H0V0z" />
            <path d="M33.57,31A4.58,4.58,0,0,0,29,35.57V58.3a1.94,1.94,0,0,0,3.32,1.38l3-3a.29.29,0,0,1,.21-.09H56.43A4.58,4.58,0,0,0,61,52V35.57A4.58,4.58,0,0,0,56.43,31Z" />
        </svg>
        <!-- <svg version="1.1" role="img" [ngStyle]="{'fill': g.themeForegroundColor, 'display': (g.baloonImage==='')?'':'none', 'transform': 'scale(0.6)' }" xmlns="http://www.w3.org/2000/svg" width="100%"
            height="100%" viewBox="0 0 198.4 198.4">
        <path d="M180.5,89.6h-70.2c-6.1,0-11.1-4.7-11.1-10.4V13.1c0-5.8-5-10.4-11.1-10.4H17.9c-6.1,0-11.1,4.7-11.1,10.4v76.6v76.6c0,5.8,5,10.4,11.1,10.4h-4.8h12.7c2.5,0,5,1,6.8,2.6l8.1,7.7l7.6,7.1c2.5,2.3,6.5,2.3,9,0l7.6-7.1l8.1-7.7c1.8-1.7,4.2-2.6,6.8-2.6h100.7c6.1,0,11.1-4.7,11.1-10.4v-66.1C191.6,94.3,186.6,89.6,180.5,89.6"/>
        <path d="M184.9,75.6h-64.1c-3.7,0-6.7-2.8-6.7-6.3V8.9c0-3.5,3-6.3,6.7-6.3h64.1c3.7,0,6.7,2.8,6.7,6.3v60.4C191.6,72.8,188.6,75.6,184.9,75.6"/>
        </svg> -->
    </div>

    <!-- CLOSE ICON -->
    <div *ngIf="g.isOpen" class="launcher-button rotate-center" [@enterCloseAnimation]>
        <svg role="img" [ngStyle]="{'fill': g.themeForegroundColor }" xmlns="http://www.w3.org/2000/svg" width="100%"
            height="100%" viewBox="0 0 90 90">
            <path fill="none" d="M0 0h24v24H0V0z" />
            <path class="cls-1" d="M54.92,37.08l-2-2L45,43l-7.92-7.92-2,2L43,45l-7.92,7.92,2,2L45,47l7.92,7.92,2-2L47,45Z" />
        </svg>
    </div>

</button>