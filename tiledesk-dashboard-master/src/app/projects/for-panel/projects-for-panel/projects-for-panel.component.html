<!-- <appdashboard-navbar-for-panel></appdashboard-navbar-for-panel> -->

<div class="main-content main-content-projects-for-panel">
  <div class="container-fluid container-projects-for-panel">

    <div class="left-sidebar">

      <!-- <loading-spinner *ngIf="showSpinner" style="margin:100px auto"></loading-spinner> -->
      <div *ngIf="showSpinner" class="stretchspinner">
        <div class="rect1"></div>
        <div class="rect2"></div>
        <div class="rect3"></div>
        <div class="rect4"></div>
        <div class="rect5"></div>
      </div>

      <div class="left-sidebar-projects" style="margin-right: -10px;" *ngIf="!showSpinner">

        <!-- style="cursor:pointer" -->
        <div *ngFor="let project of projects; let i = index">

          <div class="small-projects-sidebar">

            <div *ngIf="project?.id_project?.status !== 0" class="flex-container project-row">
              <div class="flex-child-left">
                <div class="project-avatar-wrapper"
                  (click)="$event.stopPropagation();changeAvailabilityState(project?.id_project?._id, project?.ws_projct_user_available)">

                  <div class="project-avatar">
                    {{ project?.project_name_initial }}
                  </div>
                </div>
              </div>

              <div class="flex-child-right" *ngIf="!window_width_is_60">
                <div class="project-name-projects-for-panel">
                  {{ project?.id_project?.name }}
                </div>

                <!-- <div class="status--text"
                  (click)="$event.stopPropagation();changeAvailabilityState(project?.id_project?._id, project?.ws_projct_user_available)"
                  [ngClass]="{'online-text-color' : project?.ws_projct_user_available === true, 'offline-text-color' : project?.ws_projct_user_available === false}">
                  <span *ngIf="project?.ws_projct_user_available === true">
                    Online
                  </span>
                  <span *ngIf="project?.ws_projct_user_available === false"> Offline</span>

                  <span *ngIf="project?.ws_projct_user_available === true" class="material-icons icon-as-btn">
                    notifications
                  </span>
                  <span *ngIf="project?.ws_projct_user_available === false" class="material-icons icon-as-btn">
                    notifications_off
                  </span>
                </div> -->
                <div class="availabily-and-busy-wpr--prjcts-for-panel">

                  <div class="availabily---wpr--prjcts-for-panel">
                    <!-- <div class="i_onoffswitch"
                    (click)="$event.stopPropagation();changeAvailabilityState(project?.id_project?._id, project?.ws_projct_user_available)">
                    <input type="checkbox" name="i_onoffswitch_{{project?.id_project?._id}}"
                      class="i_onoffswitch-checkbox" id="i_switch_availability_{{project?.id_project?._id}}"
                      tabindex="0" [checked]="project?.ws_projct_user_available">
                    <label style="margin-bottom: 0px" class="i_onoffswitch-label"
                      for="i_switch_availability_{{project?.id_project?._id}}"></label>
                  </div> -->

                    <div class="onoffswitch--prjcts-for-panel"
                      (click)="$event.stopPropagation();changeAvailabilityState(project?.id_project?._id, project?.ws_projct_user_available)">
                      <input type="checkbox" name="onoffswitch_{{project?.id_project?._id}}"
                        class="onoffswitch-checkbox--prjcts-for-panel"
                        id="availabilityswitch_{{project?.id_project?._id}}" tabindex="0"
                        [checked]="project?.ws_projct_user_available">
                      <label class="onoffswitch-label--prjcts-for-panel"
                        for="availabilityswitch_{{project?.id_project?._id}}"></label>
                    </div>
                  </div>


                  <span *ngIf="project?.ws_projct_user_available === true"
                    class="availibility-status-text--prjcts-for-panel"
                    [ngClass]="{'online-text-color' : project?.ws_projct_user_available === true, 'offline-text-color' : project?.ws_projct_user_available === false}">
                    {{'Available' | translate}}
                  </span>

                  <span *ngIf="project?.ws_projct_user_available === false"
                    class="availibility-status-text--prjcts-for-panel"
                    [ngClass]="{'online-text-color' : project?.ws_projct_user_available === true, 'offline-text-color' : project?.ws_projct_user_available === false}">
                    {{'Unavailable' | translate}}
                  </span>


                  <div class="projects-for-panel--isBusy-icon-wpr" *ngIf="project?.ws_projct_user_isBusy === true">

                    <svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="16px"
                      viewBox="0 0 24 24" width="16px" fill="#FEB92C">
                      <g>
                        <path d="M0,0h24v24H0V0z" fill="none" />
                      </g>
                      <g>
                        <path
                          d="M11.99,2C6.47,2,2,6.48,2,12s4.47,10,9.99,10C17.52,22,22,17.52,22,12S17.52,2,11.99,2z M15.29,16.71L11,12.41V7h2v4.59 l3.71,3.71L15.29,16.71z" />
                      </g>
                    </svg>
                  </div>
                  <span *ngIf="project?.ws_projct_user_isBusy === true"
                    class="projects-for-panel--isBusy-busy-text text-pulse-animation">
                    {{'Busy' | translate}}
                  </span>

                </div>
              </div>

              <div class="flex-child--right" *ngIf="!window_width_is_60">
                <!-- <span class="material-icons" style="vertical-align: middle; color: #a9abad">
                  east
                </span> -->

                <!-- <div id="arrow_1" class="arrow-wrapper">
                  <div class="arrow arrow--right">
                    <span></span>
                  </div>
                </div> -->

                <div class="push-pin-icon-wpr" [ngClass]="{'tooltip-pfp':  project?.id_project?._id !== LAST_STORED_PRJCT_ID}"
                  (click)='hasChangedPRJCT(project, project?.id_project?._id, project?.id_project?.name, project?.id_project?.profile?.name, project?.id_project?.trialExpired, project?.id_project?.trialDaysLeft, project?.id_project?.status)'>
                  <span class="material-icons push-pin-icon-as-btn" [ngClass]="{'pinned-project':  project?.id_project?._id === LAST_STORED_PRJCT_ID}">
                    push_pin
                  </span>
                  <span *ngIf="project?.id_project?._id !== LAST_STORED_PRJCT_ID" class="tooltiptext-pfp">
                    {{'PinThisProjectInTheChatWindow' | translate}}
                  </span>
                </div>

                <!-- <button  type="button" rel="tooltip"
                       class="btn btn-simple btn-xs"
                        (click)='goToEditAddPage_EDIT(faq?._id)'>
                        <span class="material-icons" style="color: #b1b4b8;">
                          push_pin
                          </span>
                      </button> -->
              </div>
            </div>
          </div>

        </div>

      </div>
    </div>
  </div>
</div>